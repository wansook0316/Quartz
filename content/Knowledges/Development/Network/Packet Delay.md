---
title: Packet Delay
thumbnail: ''
draft: false
tags: null
created: 2023-10-04
---

# Packet Delay

패킷스위칭을 시 라우터는 패킷단위의 데이터를 전달받고 목적지로 전달하는 역할을 수행한다. 이 과정에서 라우터가 보낼 수 있는 대역폭보다 더 많은 유저가 더 빠른 속도로 데이터를 보낸다면 딜레이가 생길 수 밖에 없다. 톨게이트에 사람이 마구 몰리는 상황을 상상해보자.

## Delay의 구분

![](Pasted%20image%2020231004130237.png)
![](Pasted%20image%2020231004130241.png)

## Processing Delay

 > 
 > 패킷 자체를 평가한다.

필연적인 딜레이 중 하나로써, 목적지에 따른 어느 라우터로 전송할 지 결정하는 것에 대한 지연이다. 이 과정에서는 패킷의 형식을 검사하고, 목적지를 판단하는 과정을 수행한다.

## Queueing Delay

 > 
 > 들어온 패킷들을 줄세운다.

데이터를 전달하는 라우터의 큐에 들어가서 앞서서 도착해 큐에 대기중인 패킷들이 모두 나갈때까지 걸리는 지연이다. (큐에 얼마나 많이 들어가있는지에 따라서 큐잉 딜레이는 가변적)

## Transmission Delay

 > 
 > 패킷하나가 모두 전송되기 까지 걸리는 시간

라우터의 큐 제일 앞에 배치되어서 패킷 하나가 온전하게 마지막 비트까지 최종 목적지로 가는데까지의 지연이다. 패킷은 전송의 한 단위이기 때문에, 하나의 패킷이 모두 전송이 되어야 sender는 전송이 되었다고 판단한다. 예를 들면 패킷의 bit가 100bits이고 대역폭이 1bps 이면 1초당 1bit만 전송할 수 있기 때문에 100초 후에 이 패킷은 전송되었다고 판단할 수 있다.

## Propagation Delay

 > 
 > 실제로 비트가 선을 따라 전송되는데 걸리는 시간

마지막 비트까지 대역폭에 올라오고, 이후에 마지막 비트가 최종 목적지까지 도달하는 물리적 시간이다. 이 속도는 전자기파의 속도라 사실 많은 영향을 주지는 않는다. ( 가까우면 빨리, 거리가 멀면 오래 걸림)

결과적으로 라우터에서 패킷을 받을 때 걸리는 nodal delay 는 위 4가지의 지연의 합으로 표현된다.

$$
nodal = proc + queue + trans + prop
$$

## Delay 줄이기

## Processing Delay

라우터에 좋은 처리장치를 달아서 패킷에 대해 판단하는 속도를 향상시킨다.

## Queueing Delay

사용자의 패턴에 의존하기 때문에 불가능하다. 통계적 기법을 사용해야 한다.

## Transmission Delay

패킷하나가 빠져나가는 시간을 줄인다. 초당 선송할 수 있는 양을 늘리면 된다. 마치 톨게이트에서 5차선이었던 것을 10차선으로 바꾸면 한번에 빠져나갈 수 있는 차량의 수가 증가한다. 이 때, 이 차선에 대응되는 개념이 **대역폭**이다.

## Propagation Delay

빛의 속도는 세상에서 가장 빠르다.. 불가능하다.

# Packet Loss

 > 
 > 큐에 패킷이 가득차있는 경우 버려진다.
 > 라우터의 큐에 삽입되기 이전에 큐에 패킷이 가득차있는 경우 큐의 저장공간이 없기 때문에 Packet Loss 가 발생하며, 패킷은 버려진다.

## TCP 작동

이런 경우 안전한 전송을 담당하는 Client 쪽의 TransportLayer 계층의 TCP 프로토콜이 해당 패킷을 재전송한다. 잘 몰라도 된다. 나중에 배운다.

## Reference

* [KOCW 이석복 교수님 - 컴퓨터네트워크](http://www.kocw.net/home/search/kemView.do?kemId=1169634)
