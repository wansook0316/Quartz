---
title: Switch
thumbnail: ''
draft: false
tags:
- switch
- network
- mac-address
- data-link-layer
created: 2023-10-04
---

# Switch

* [Data Link Layer](Data%20Link%20Layer.md)에서 동작
* Layer 2 스위치, 스위치 허브라 불림
* 허브와 비슷하지만, 데이터 충돌을 방지할 수 있다.
* 이전에 허브에서는 데이터를 동시에 보낼 때, 문제가 발생하여 CSMA/CD 라는 방법을 통해 충돌을 방지함
* 이번에는 이 장치가 이 충돌을 방지함
* [MAC Address](MAC%20Address.md) Table
  * 스위치 내부에 존재하는 맥 주소 테이블이다.
  * 스위치의 포트 번호와 해당 포트에 연결되어 있는 컴퓨터의 MAC 주소가 등록되는 데이터 베이스임
  * 전원을 처음에 딱 키면 [MAC Address](MAC%20Address.md)  테이블에는 아무것도 등록이 안되어 있음
  * 그런데, 프레임(아까 배운 데이터 싼 형태)가 전송되면 테이블에 추가가된다.
  * 등록되어 있는 경우면 건너 뛴다.
  * 이러한 기능을 [MAC Address](MAC%20Address.md)  학습 기능이라고 한다.
  * 문제점 (Flooding)
    * 처음에 시작할 때 컴퓨터가 스위치에 이더넷 네트워크를 모두 꽂았다.
    * 그런데 A라는 컴퓨터만 데이터를 송신했다.
    * 그런 경우, 나머지 컴퓨터에서는 데이터를 송신하지 않았기 때문에, 등록이 안되어 있는 상태이다.
    * 그렇기 때문에 이런 상황에서는 허브와 마찬가지로 동작한다는 한계가 있다.
    * 이런 상황을 플러딩이라 한다.

![](Pasted%20image%2020231004133414.png)

* 그런데 이번에는 B가 데이터를 전송해서 데이터 테이블에 저장이되어 있다고 생각해보자.
* 이런 경우는 허브처럼 작동하지 않고, 원하는 곳에만 데이터를 전송한다.
* 이를 [MAC Address](MAC%20Address.md)  필터링이라고 한다.
* 만약 이상태에서 A->C라면?
  * 플러딩이 발생한다.

![](Pasted%20image%2020231004133426.png)

## 스위치가 사용하는 데이터가 케이블에서 충돌하지 않는 구조

* 통신 방식
  * 전이중 통신 방식
    * 송수신을 동시에 통신
    * 회선이 두개 (송신쪽, 수신쪽)
  * 반이중 통신 방식
    * 송수신을 번갈아 처리
    * 회선이 한개
* 허브
  * 반이중
  * 동시에 데이터를 보내면 충돌 발생
  * 한쪽에서 보내고 있기 때문에 양쪽다 받을 수가 없다.
* 스위치
  * 충돌을 아예 없앤 방식
  * 전이중

### 허브

![](Pasted%20image%2020231004133501.png)

### 스위치

![](Pasted%20image%2020231004133519.png)

## 충돌 도메인

* 충돌 도메인
  * 충돌이 발생할 때 영향을 끼치는 범위
  * 허브
    * 허브는 일단 모든 포트에 데이터를 다 보내버림
    * 그렇기 때문에, A, B에서 데이터를 동시에 쏘면 일단 충돌이 나는데, 그럼 나머지 노는 컴퓨터들도 데이터를 못받고 충돌이 같이 난다.
    * 그래서 전범위
  * 스위치
    * 일단 접속되어 있는 모든 컴퓨터에 영향을 미치지 않음
    * 애초에 충돌을 방지하기도 함(전 이중)
    * 그래서 충돌 도메인의 범위는 컴퓨터 하나로 좁아진다.

![](Pasted%20image%2020231004133545.png)
