<!DOCTYPE html>
<html><head><title>Face Tracker</title><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:title" content="Face Tracker"/><meta property="og:description" content="Description § 개선된 DeepSORT를 이용한 실시간 다중 얼굴 추적 (한국정보과학회) DeepSort 알고리즘을 개선하여 여러 사람이 등장하는 동영상에서 얼굴을 추적하는 기능을 제작하였습니다. Introduction § Yolov3와 Arcface 를 통한 얼굴 탐지 및 feature extration을 통해 원하는 사진을 기반으로 영상에서 인물을 찾아 추적하는 모델을 제작하였습니다."/><meta property="og:image" content="https://wansook.world/static/og-image.png"/><meta property="og:width" content="1200"/><meta property="og:height" content="675"/><meta name="theme-color" content="#faf8f8"/><link rel="icon" href="../static/icon.png"/><link rel="manifest" href="https://wansook.world/manifest.json"/><meta name="description" content="Description § 개선된 DeepSORT를 이용한 실시간 다중 얼굴 추적 (한국정보과학회) DeepSort 알고리즘을 개선하여 여러 사람이 등장하는 동영상에서 얼굴을 추적하는 기능을 제작하였습니다. Introduction § Yolov3와 Arcface 를 통한 얼굴 탐지 및 feature extration을 통해 원하는 사진을 기반으로 영상에서 인물을 찾아 추적하는 모델을 제작하였습니다."/><meta name="generator" content="Quartz"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link href="../index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://fonts.googleapis.com/css2?family=IBM Plex Mono&amp;family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap" rel="stylesheet" type="text/css" spa-preserve/><script src="../prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch(`../static/contentIndex.json`).then(data => data.json())</script></head><body data-slug="Traces/Face-Tracker-2"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h1 class="page-title "><a href="..">🥚</a></h1><div class="spacer mobile-only"></div><div class="search "><div id="search-icon"><p>Search</p><div></div><svg tabIndex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search</title><desc id="desc">Search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></div><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="results-container"></div></div></div></div><div class="darkmode "><input class="toggle" id="darkmode-toggle" type="checkbox" tabIndex="-1"/><label id="toggle-label-light" for="darkmode-toggle" tabIndex="-1"><svg xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35;" xmlSpace="preserve"><title>Light mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg></label><label id="toggle-label-dark" for="darkmode-toggle" tabIndex="-1"><svg xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'" xmlSpace="preserve"><title>Dark mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></label></div><div class="explorer desktop-only"><button type="button" id="explorer" data-behavior="collapse" data-collapsed="collapsed" data-savestate="true" data-tree="[{&quot;path&quot;:&quot;Channels&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Channels/𝕏&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Essay&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Knowledges&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Knowledges/Economics&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Knowledges/Markdown&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Knowledges/Productivity&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Logs&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Logs/Daily&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Logs/Monthly&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Traces&quot;,&quot;collapsed&quot;:true}]"><h1>Explorer</h1><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="explorer-content"><ul class="overflow" id="explorer-ul"><li><div><div class="folder-outer open"><ul style="padding-left:0;" class="content" data-folderul><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/Channels"><button class="folder-button"><p class="folder-title">Channels</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/Channels"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/Channels/𝕏"><button class="folder-button"><p class="folder-title">𝕏</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/Channels/𝕏"><li><li><a href="../Channels/𝕏/𝕏" data-for="Channels/𝕏/𝕏">𝕏</a></li></li></ul></div></div></li><li><li><a href="../Channels/Channels-3" data-for="Channels/Channels-3">Channels</a></li></li><li><li><a href="../Channels/Channels" data-for="Channels/Channels">Channels</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/Essay"><button class="folder-button"><p class="folder-title">Essay</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/Essay"><li><li><a href="../Essay/1막을-마치며-3" data-for="Essay/1막을-마치며-3">1막을 마치며</a></li></li><li><li><a href="../Essay/1막을-마치며" data-for="Essay/1막을-마치며">1막을 마치며</a></li></li><li><li><a href="../Essay/Essay-3" data-for="Essay/Essay-3">Essay</a></li></li><li><li><a href="../Essay/Essay" data-for="Essay/Essay">Essay</a></li></li><li><li><a href="../Essay/누군가는-상처받을-수-있다-3" data-for="Essay/누군가는-상처받을-수-있다-3">누군가는 상처받을 수 있다</a></li></li><li><li><a href="../Essay/누군가는-상처받을-수-있다" data-for="Essay/누군가는-상처받을-수-있다">누군가는 상처받을 수 있다</a></li></li><li><li><a href="../Essay/단단한-부드러움-3" data-for="Essay/단단한-부드러움-3">단단한 부드러움</a></li></li><li><li><a href="../Essay/단단한-부드러움" data-for="Essay/단단한-부드러움">단단한 부드러움</a></li></li><li><li><a href="../Essay/언제나-그래-왔듯이-3" data-for="Essay/언제나-그래-왔듯이-3">언제나 그래 왔듯이</a></li></li><li><li><a href="../Essay/언제나-그래-왔듯이" data-for="Essay/언제나-그래-왔듯이">언제나 그래 왔듯이</a></li></li><li><li><a href="../Essay/자유에-대한-고찰-3" data-for="Essay/자유에-대한-고찰-3">자유에 대한 고찰</a></li></li><li><li><a href="../Essay/자유에-대한-고찰" data-for="Essay/자유에-대한-고찰">자유에 대한 고찰</a></li></li><li><li><a href="../Essay/쟤는-일만-해요.-3" data-for="Essay/쟤는-일만-해요.-3">쟤는 일만 해요.</a></li></li><li><li><a href="../Essay/쟤는-일만-해요." data-for="Essay/쟤는-일만-해요.">쟤는 일만 해요.</a></li></li><li><li><a href="../Essay/지인의-성장을-본다는-것-3" data-for="Essay/지인의-성장을-본다는-것-3">지인의 성장을 본다는 것</a></li></li><li><li><a href="../Essay/지인의-성장을-본다는-것" data-for="Essay/지인의-성장을-본다는-것">지인의 성장을 본다는 것</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/Knowledges"><button class="folder-button"><p class="folder-title">Knowledges</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/Knowledges"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/Knowledges/Economics"><button class="folder-button"><p class="folder-title">Economics</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/Knowledges/Economics"><li><li><a href="../Knowledges/Economics/Economics" data-for="Knowledges/Economics/Economics">Economics</a></li></li><li><li><a href="../Knowledges/Economics/Diminishing-returns" data-for="Knowledges/Economics/Diminishing-returns">수확 체감의 원칙</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/Knowledges/Markdown"><button class="folder-button"><p class="folder-title">Markdown</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/Knowledges/Markdown"><li><li><a href="../Knowledges/Markdown/Markdown" data-for="Knowledges/Markdown/Markdown">Markdown</a></li></li><li><li><a href="../Knowledges/Markdown/Markdown-Toggle" data-for="Knowledges/Markdown/Markdown-Toggle">Markdown Toggle</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/Knowledges/Productivity"><button class="folder-button"><p class="folder-title">Productivity</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/Knowledges/Productivity"><li><li><a href="../Knowledges/Productivity/Alfred-Workflow" data-for="Knowledges/Productivity/Alfred-Workflow">Alfred Workflow</a></li></li><li><li><a href="../Knowledges/Productivity/Alfred-workflow-not-working" data-for="Knowledges/Productivity/Alfred-workflow-not-working">Alfred workflow not working</a></li></li><li><li><a href="../Knowledges/Productivity/Environment-Setting-Automation" data-for="Knowledges/Productivity/Environment-Setting-Automation">Environment Setting Automation</a></li></li><li><li><a href="../Knowledges/Productivity/Hugo" data-for="Knowledges/Productivity/Hugo">Hugo</a></li></li><li><li><a href="../Knowledges/Productivity/Open-multiple-Application-instances" data-for="Knowledges/Productivity/Open-multiple-Application-instances">Open multiple Application instances</a></li></li><li><li><a href="../Knowledges/Productivity/Productivity" data-for="Knowledges/Productivity/Productivity">Productivity</a></li></li><li><li><a href="../Knowledges/Productivity/Quartz-Publishing" data-for="Knowledges/Productivity/Quartz-Publishing">Quartz Publishing</a></li></li><li><li><a href="../Knowledges/Productivity/Static-site-generator" data-for="Knowledges/Productivity/Static-site-generator">Static site generator</a></li></li><li><li><a href="../Knowledges/Productivity/Xcode-Shortcuts" data-for="Knowledges/Productivity/Xcode-Shortcuts">Xcode Shortcuts</a></li></li></ul></div></div></li><li><li><a href="../Knowledges/Knowledges" data-for="Knowledges/Knowledges">Knowledges</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/Logs"><button class="folder-button"><p class="folder-title">Logs</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/Logs"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/Logs/Daily"><button class="folder-button"><p class="folder-title">Daily</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/Logs/Daily"><li><li><a href="../Logs/Daily/2023-09-18" data-for="Logs/Daily/2023-09-18">2023-09-18</a></li></li><li><li><a href="../Logs/Daily/2023-09-19" data-for="Logs/Daily/2023-09-19">2023-09-19</a></li></li><li><li><a href="../Logs/Daily/2023-09-20" data-for="Logs/Daily/2023-09-20">2023-09-20</a></li></li><li><li><a href="../Logs/Daily/2023-09-21" data-for="Logs/Daily/2023-09-21">2023-09-21</a></li></li><li><li><a href="../Logs/Daily/2023-09-22" data-for="Logs/Daily/2023-09-22">2023-09-22</a></li></li><li><li><a href="../Logs/Daily/2023-09-26" data-for="Logs/Daily/2023-09-26">2023-09-26</a></li></li><li><li><a href="../Logs/Daily/2023-09-28" data-for="Logs/Daily/2023-09-28">2023-09-28</a></li></li><li><li><a href="../Logs/Daily/2023-09-29" data-for="Logs/Daily/2023-09-29">2023-09-29</a></li></li><li><li><a href="../Logs/Daily/2023-10-03" data-for="Logs/Daily/2023-10-03">2023-10-03</a></li></li><li><li><a href="../Logs/Daily/2023-10-04" data-for="Logs/Daily/2023-10-04">2023-10-04</a></li></li><li><li><a href="../Logs/Daily/2023-10-06" data-for="Logs/Daily/2023-10-06">2023-10-06</a></li></li><li><li><a href="../Logs/Daily/Daily" data-for="Logs/Daily/Daily">Daily</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/Logs/Monthly"><button class="folder-button"><p class="folder-title">Monthly</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/Logs/Monthly"><li><li><a href="../Logs/Monthly/2022-03" data-for="Logs/Monthly/2022-03">2022-03</a></li></li><li><li><a href="../Logs/Monthly/2022-04" data-for="Logs/Monthly/2022-04">2022-04</a></li></li><li><li><a href="../Logs/Monthly/2022-05" data-for="Logs/Monthly/2022-05">2022-05</a></li></li><li><li><a href="../Logs/Monthly/2022-06" data-for="Logs/Monthly/2022-06">2022-06</a></li></li><li><li><a href="../Logs/Monthly/2022-07" data-for="Logs/Monthly/2022-07">2022-07</a></li></li><li><li><a href="../Logs/Monthly/2022-08" data-for="Logs/Monthly/2022-08">2022-08</a></li></li><li><li><a href="../Logs/Monthly/2022-09" data-for="Logs/Monthly/2022-09">2022-09</a></li></li><li><li><a href="../Logs/Monthly/2022-10" data-for="Logs/Monthly/2022-10">2022-10</a></li></li><li><li><a href="../Logs/Monthly/2022-11" data-for="Logs/Monthly/2022-11">2022-11</a></li></li><li><li><a href="../Logs/Monthly/2022-12" data-for="Logs/Monthly/2022-12">2022-12</a></li></li><li><li><a href="../Logs/Monthly/2023-01" data-for="Logs/Monthly/2023-01">2023-01</a></li></li><li><li><a href="../Logs/Monthly/2023-02" data-for="Logs/Monthly/2023-02">2023-02</a></li></li><li><li><a href="../Logs/Monthly/2023-03" data-for="Logs/Monthly/2023-03">2023-03</a></li></li><li><li><a href="../Logs/Monthly/2023-04" data-for="Logs/Monthly/2023-04">2023-04</a></li></li><li><li><a href="../Logs/Monthly/2023-05" data-for="Logs/Monthly/2023-05">2023-05</a></li></li><li><li><a href="../Logs/Monthly/2023-06" data-for="Logs/Monthly/2023-06">2023-06</a></li></li><li><li><a href="../Logs/Monthly/2023-07" data-for="Logs/Monthly/2023-07">2023-07</a></li></li><li><li><a href="../Logs/Monthly/2023-08" data-for="Logs/Monthly/2023-08">2023-08</a></li></li><li><li><a href="../Logs/Monthly/Monthly" data-for="Logs/Monthly/Monthly">Monthly</a></li></li></ul></div></div></li><li><li><a href="../Logs/Logs-2" data-for="Logs/Logs-2">Logs</a></li></li><li><li><a href="../Logs/Logs" data-for="Logs/Logs">Logs</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/Traces"><button class="folder-button"><p class="folder-title">Traces</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/Traces"><li><li><a href="../Traces/About-Architecture" data-for="Traces/About-Architecture">About Architecture</a></li></li><li><li><a href="../Traces/About-Dependency-Injection-2" data-for="Traces/About-Dependency-Injection-2">About Dependency Injection</a></li></li><li><li><a href="../Traces/About-Dependency-Injection" data-for="Traces/About-Dependency-Injection">About Dependency Injection</a></li></li><li><li><a href="../Traces/About-Directory" data-for="Traces/About-Directory">About Directory</a></li></li><li><li><a href="../Traces/About-External-Library-2" data-for="Traces/About-External-Library-2">About External Library</a></li></li><li><li><a href="../Traces/About-External-Library" data-for="Traces/About-External-Library">About External Library</a></li></li><li><li><a href="../Traces/About-Storyboard" data-for="Traces/About-Storyboard">About Storyboard</a></li></li><li><li><a href="../Traces/AI-Data-Idea-Contest-2" data-for="Traces/AI-Data-Idea-Contest-2">AI Data Idea Contest</a></li></li><li><li><a href="../Traces/AI-Data-Idea-Contest" data-for="Traces/AI-Data-Idea-Contest">AI Data Idea Contest</a></li></li><li><li><a href="../Traces/Boost-Camp-2" data-for="Traces/Boost-Camp-2">Boost Camp</a></li></li><li><li><a href="../Traces/Boost-Camp" data-for="Traces/Boost-Camp">Boost Camp</a></li></li><li><li><a href="../Traces/Canvas-2" data-for="Traces/Canvas-2">Canvas</a></li></li><li><li><a href="../Traces/Canvas" data-for="Traces/Canvas">Canvas</a></li></li><li><li><a href="../Traces/Dance-Copyright-Dataset-2" data-for="Traces/Dance-Copyright-Dataset-2">Dance Copyright Dataset</a></li></li><li><li><a href="../Traces/Dance-Copyright-Dataset" data-for="Traces/Dance-Copyright-Dataset">Dance Copyright Dataset</a></li></li><li><li><a href="../Traces/Data-Science-for-COVID-19-2" data-for="Traces/Data-Science-for-COVID-19-2">Data Science for COVID-19</a></li></li><li><li><a href="../Traces/Data-Science-for-COVID-19" data-for="Traces/Data-Science-for-COVID-19">Data Science for COVID-19</a></li></li><li><li><a href="../Traces/Deploy-to-AppStore" data-for="Traces/Deploy-to-AppStore">Deploy to AppStore</a></li></li><li><li><a href="../Traces/DogFeed-2" data-for="Traces/DogFeed-2">DogFeed</a></li></li><li><li><a href="../Traces/DogFeed" data-for="Traces/DogFeed">DogFeed</a></li></li><li><li><a href="../Traces/Escaper" data-for="Traces/Escaper">Escaper</a></li></li><li><li><a href="../Traces/Escaper-Keynote" data-for="Traces/Escaper-Keynote">Escaper Keynote</a></li></li><li><li><a href="../Traces/Face-Tracker-2" data-for="Traces/Face-Tracker-2">Face Tracker</a></li></li><li><li><a href="../Traces/Face-Tracker" data-for="Traces/Face-Tracker">Face Tracker</a></li></li><li><li><a href="../Traces/Flight-Delay-Prediction" data-for="Traces/Flight-Delay-Prediction">Flight Delay Prediction</a></li></li><li><li><a href="../Traces/Frostiness-Prediction-Contest-2" data-for="Traces/Frostiness-Prediction-Contest-2">Frostiness Prediction Contest</a></li></li><li><li><a href="../Traces/Frostiness-Prediction-Contest" data-for="Traces/Frostiness-Prediction-Contest">Frostiness Prediction Contest</a></li></li><li><li><a href="../Traces/Fruit-Card-Game" data-for="Traces/Fruit-Card-Game">Fruit Card Game</a></li></li><li><li><a href="../Traces/Government-Hackathon" data-for="Traces/Government-Hackathon">Government Hackathon</a></li></li><li><li><a href="../Traces/Guarantee-Order-of-Image-by-cache-2" data-for="Traces/Guarantee-Order-of-Image-by-cache-2">Guarantee Order of Image by cache</a></li></li><li><li><a href="../Traces/Guarantee-Order-of-Image-by-cache" data-for="Traces/Guarantee-Order-of-Image-by-cache">Guarantee Order of Image by cache</a></li></li><li><li><a href="../Traces/Implement-ImageCache-2" data-for="Traces/Implement-ImageCache-2">Implement ImageCache</a></li></li><li><li><a href="../Traces/Implement-ImageCache" data-for="Traces/Implement-ImageCache">Implement ImageCache</a></li></li><li><li><a href="../Traces/Kyunghee-Valley-Program-2" data-for="Traces/Kyunghee-Valley-Program-2">Kyunghee Valley Program</a></li></li><li><li><a href="../Traces/Kyunghee-Valley-Program" data-for="Traces/Kyunghee-Valley-Program">Kyunghee Valley Program</a></li></li><li><li><a href="../Traces/OnBan" data-for="Traces/OnBan">OnBan</a></li></li><li><li><a href="../Traces/Optimal-Bicycle-Station-Selection-Contest-2" data-for="Traces/Optimal-Bicycle-Station-Selection-Contest-2">Optimal Bicycle Station Selection Contest</a></li></li><li><li><a href="../Traces/Optimal-Bicycle-Station-Selection-Contest" data-for="Traces/Optimal-Bicycle-Station-Selection-Contest">Optimal Bicycle Station Selection Contest</a></li></li><li><li><a href="../Traces/Restaurant-Headcount-Prediction" data-for="Traces/Restaurant-Headcount-Prediction">Restaurant Headcount Prediction</a></li></li><li><li><a href="../Traces/StarBoost" data-for="Traces/StarBoost">StarBoost</a></li></li><li><li><a href="../Traces/Traces-2" data-for="Traces/Traces-2">Traces</a></li></li><li><li><a href="../Traces/Traces" data-for="Traces/Traces">Traces</a></li></li></ul></div></div></li></ul></div></div></li><li id="explorer-end"></li></ul></div></div></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container " aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="..">Home</a><p> > </p></div><div class="breadcrumb-element"><a href="../Traces/">Traces</a><p> > </p></div><div class="breadcrumb-element"><a href>Face Tracker</a></div></nav><h1 class="article-title ">Face Tracker</h1><p class="content-meta ">Oct 06, 2023, 20 min read</p></div></div><article class="popover-hint"><h1 id="description">Description<a aria-hidden="true" tabindex="-1" href="#description" class="internal"> §</a></h1>
<ul>
<li><a href="https://www.dbpia.co.kr/journal/articleDetail?nodeId=NODE11036064" class="external">개선된 DeepSORT를 이용한 실시간 다중 얼굴 추적</a> (한국정보과학회)</li>
</ul>
<p>DeepSort 알고리즘을 개선하여 여러 사람이 등장하는 동영상에서 얼굴을 추적하는 기능을 제작하였습니다.</p>
<h1 id="introduction">Introduction<a aria-hidden="true" tabindex="-1" href="#introduction" class="internal"> §</a></h1>
<p>Yolov3와 Arcface 를 통한 얼굴 탐지 및 feature extration을 통해 원하는 사진을 기반으로 영상에서 인물을 찾아 추적하는 모델을 제작하였습니다.</p>
<p><img src="../facetracker01.jpg" alt/></p>
<h1 id="동작-영상">동작 영상<a aria-hidden="true" tabindex="-1" href="#동작-영상" class="internal"> §</a></h1>
<p><img src="../facetracker02.gif" alt/>
<img src="../facetracker03.gif" alt/>
<img src="../facetracker04.gif" alt/>
<img src="../facetracker05.gif" alt/>
<img src="../facetracker06.gif" alt/>
<img src="../facetracker07.gif" alt/>
<img src="../facetracker08.gif" alt/>
<img src="../facetracker09.gif" alt/></p>
<h1 id="프로젝트-시작-배경">프로젝트 시작 배경<a aria-hidden="true" tabindex="-1" href="#프로젝트-시작-배경" class="internal"> §</a></h1>
<ol>
<li>사람의 얼굴을 지속적으로 추적하는 것은 미래 사회에서 상당히 중요한 기술로 자리매김할 것입니다. 상점에 있는 전광판, 키오스크 등에 장치할 경우, 디스플레이를 쳐다보고 있는 사람 수, 보는 시간 등을 수치적으로 산출할 수 있습니다. 이러한 방법은 광고주가 광고 캠페인을 최적화하는데 사용할 수 있습니다.</li>
<li>또한 실내 환경의 상태를 추적하는데도 사용이 가능합니다. 공장/사무실과 같은 공간에서 현재 근무하고 있는 사람의 수를 측정하고, 각각의 사람을 인지할 수 있다면, 출근 명부와 같은 단순한 작업을 자동화할 수 있습니다. 또한 자동차와 같은 실내 공간에서 탑승객의 상태를 인지하는데 사용할 수 있습니다. 특히 운전자가 어떤 상태로 주행을 하고 있는지 알 수 있다면, 이는 주행의 안전을 보조하는 하나의 장치로 사용이 가능할 것으로 보입니다.</li>
</ol>
<h1 id="주요-내용">주요 내용<a aria-hidden="true" tabindex="-1" href="#주요-내용" class="internal"> §</a></h1>
<ol>
<li>Yolov3 구조를 기반으로WIDERFACE dataset을 사용하여 학습한다.</li>
<li>제작된 네트워크를 기반으로 실시간 Detection알고리즘을 제작한다.</li>
<li>Deepsort 구조를 개선하여, 얼굴 추적에 맞도록 Feature Descriptor를 Arcface로 대체하여 얼굴에 맞는 feature로 추적 알고리즘을 제작한다. 이 때 임의의 사람에 대해서 고유한 id를 주어 추적하도록 한다.</li>
<li>정적인 사람 이미지에 대해서 Feature 정보를 추출하고, 이를 기반으로 영상에 존재하는 사람을 추적하는 알고리즘을 개발한다. 알고있는 사람의 얼굴 정보가 주어진다면, 해당 사람을 계속해서 추적하도록 한다.</li>
</ol>
<h1 id="변경-사항">변경 사항<a aria-hidden="true" tabindex="-1" href="#변경-사항" class="internal"> §</a></h1>
<ol>
<li>실시간 구조 설계
Deep sort 알고리즘은 탐지된 물체에 대해 추적만을 진행했기 때문에, 이를 실시간 화면을 기반으로 적용하기 위해서는 추가적인 조치가 필요했다. Opencv와 tensorflow를 기반으로 기존의 Deep sort Repository를 fork하여 실시간으로 영상에 대해 처리가 가능하도록 구조를 변경하였다.</li>
<li>Yolov3 사용 및 Feature Descriptor 변경
<ul>
<li>Yolov3 사용 : 문제를 종합해본 결과, Detector의 성능이 떨어지는 것이 가장 중요한 문제라고 판단하였다. 이에 Yolov3를 사용하여 얼굴에 국한된 훈련 모델을 제작하였다. 학습 데이터로는 WIDER FACE(A Face Detection Benchmark)를 사용하였다. WIDER FACE 데이터 셋은 얼굴 검출 벤치마크 데이터 셋으로서, 총 32,203개의 이미지를 가지고 있으며, 약 40만개의 얼굴 label로 이루어져 있다. 또한 이 label은 다양한 스케일을 반영하고 있기 때문에, 영상에서 발생하는 다양한 Scale을 반영하기 충분하다고 판단했다.</li>
<li>Arcface를 사용한 Feature Descriptor 변경 : 기존 Deep sort는 보행자를 기반으로 해서, Track matching을 진행했기 때문에, FeatureDescriptor의 Input shape이 2:1 비율로 제작되어 있었다. 하지만 실제로 Face Detection의 결과는 사람의 얼굴이기 때문에 정사각형에 가깝다. 또한 기존의 Feature Descriptor의 경우 보행자 이미지를 기반으로 훈련하여 현재 과업에 맞지 않아 실제 테스트를 진행했을 때, id 매칭에 있어서 실패하는 모습을 보였다. 그렇기 때문에 이 부분을 변경하여 실험을 진행하였다.</li>
</ul>
</li>
<li>Face Matching 알고리즘 제작
<ul>
<li>
<p>FACE DB 제작 : 영상속에 등장하는 사람을 인식할 수 있도록 사전에 라벨링된 사람의 이미지를 바탕으로 Feature를 추출하였다. 이 때, Feature 추출기로 얼굴에 최적화된 Arcface 추출기를 사용하였으며, 해당 데이터는 hash 자료형을 기반으로 메모리에 저장되어 있다.<img src="../facetracker10.jpg" alt/></p>
</li>
<li>
<p>FACE Matching Algorithm 제작 : 위에서 제작된 Face DB를 바탕으로 런타임에 지속적으로 탐지된 얼굴에 대해 인식을 시도한다. 기존의 Track 객체에는 이전 프레임동안 추적해온 얼굴에 대한 Feature 정보들이 저장되어 있다. 이를 기반으로 Face DB에 있는 사람 얼굴 정보와 Cosine similarity를 통해 가장 작은 값을 해당 Track 객체의 얼굴이라고 판단한다. 이 때, 특정 Threshold(0.68)보다 큰 값일 경우 잘못 탐지했다고 판단하고, id를 배정하지 않는다. 해당 Threshold는 Arcface의 Cosine similarity threshold 실험값을 반영하였다.<img src="../facetracker11.jpg" alt/></p>
</li>
</ul>
</li>
</ol>
<h1 id="matching-algorithm">Matching Algorithm<a aria-hidden="true" tabindex="-1" href="#matching-algorithm" class="internal"> §</a></h1>
<p><img src="../facetracker12.jpg" alt/></p>
<p>매칭을 하는데 있어서 중요하게 생각한 것은 세가지입니다.</p>
<ol>
<li>얼굴의 Feature 정보를 반영할 수 있어야 한다.</li>
<li>가장 최근에 탐지된 Track 객체부터 배정하도록 한다.</li>
<li>Face DB에 정보가 있다면, 가장 유사한 사람에게 이를 배정한다.</li>
</ol>
<p>이를 위해서는 Track 객체가 가지는 attibute부터 이해할 필요가 있습니다.</p>
<h2 id="track">Track<a aria-hidden="true" tabindex="-1" href="#track" class="internal"> §</a></h2>
<pre><code>class Track:
	track_id : 트랙의 고유한 id
	max_age : 트랙이 탐지되지 않았을 때, 사라지기까지 대기하는 시간
	feature : 해당 트랙이 탐지한 얼굴에 대한 Feature를 누적하여 저장하는 배열
	hits : 트랙이 초기화된 이후로, 실제로 추적가능한 객체임을 판단하기 위해 성공해야하는 횟수의 하한값
	time_since_update : 측정이 반영된 이후로 부터 현재까지의 프레임 수
	face_name : Face_db가 있을 경우 배정되는 사람의 이름
</code></pre>
<p>Matching cascade와 Face Assignment를 반영하기 위해, Track 객체는 위와 같이 구성되어 있습니다. 이제 아래에 서술한 알고리즘에서 time_since_update를 순차적으로 반영하여 Matching cascade를 사용할 수 있도록 하였습니다. 또한 face_name의 경우 배정되는 얼굴 str를 주기 위해서 추가하였습니다. feature의 경우, 얼굴 특징을 지속적으로 저장할 수 있도록 하기 위해 기존 논문에서 변화를 주었습니다.</p>
<p>아래에서는 위 과업을 달성하기 위해 변경한 두가지 알고리즘, Matching Cascade와 Face Alignment를 설명하겠습니다.</p>
<h2 id="matching-cascade">Matching Cascade<a aria-hidden="true" tabindex="-1" href="#matching-cascade" class="internal"> §</a></h2>
<p>Matching Cascade는 Matching의 정확도를 높히기 위해, 가장 최근에 객체의 업데이트가 이루어진 객체부터 매칭을 순차적으로 시도하는 것입니다. 예를 들어 현재 프레임에 대해 매칭을 수행한다면, 살아있는 객체중, 이전 프레임에서 매칭이 수행된 객체부터 현재 탐지된 물체를 배정하는 것이 보다 옳은 매칭을 가능하게 할 수 있습니다. 이 때, 기존의 논문과는 달리, Arcface를 사용한 Feature를 지속적으로 저장하도록 하여 해당 과업에 맞는 목적을 이룰 수 있도록 하였습니다.</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="python" data-theme="default"><code data-language="python" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> level </span><span style="color:var(--shiki-token-keyword);">in</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">range</span><span style="color:var(--shiki-token-punctuation);">(cascade_depth):</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-comment);"># 보통 Track 객체의 max_age만큼</span></span>
<span data-line><span style="color:var(--shiki-color-text);">      </span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">len</span><span style="color:var(--shiki-token-punctuation);">(unmatched_detections)</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">==</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-token-punctuation);">:</span><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-comment);"># 모든 detection에 대해 매칭했다면 종료</span></span>
<span data-line><span style="color:var(--shiki-color-text);">          </span><span style="color:var(--shiki-token-keyword);">break</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">      track_indices_l </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> [ </span><span style="color:var(--shiki-token-comment);"># 현재 level의 객체(즉 가장 최근에 업데이트된 Track 객체)를 가져옴</span></span>
<span data-line><span style="color:var(--shiki-color-text);">          k </span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> k </span><span style="color:var(--shiki-token-keyword);">in</span><span style="color:var(--shiki-color-text);"> track_indices</span></span>
<span data-line><span style="color:var(--shiki-color-text);">          </span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> tracks</span><span style="color:var(--shiki-token-punctuation);">[</span><span style="color:var(--shiki-color-text);">k</span><span style="color:var(--shiki-token-punctuation);">].</span><span style="color:var(--shiki-color-text);">time_since_update </span><span style="color:var(--shiki-token-keyword);">==</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">1</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">+</span><span style="color:var(--shiki-color-text);"> level</span></span>
<span data-line><span style="color:var(--shiki-color-text);">      ]</span></span>
<span data-line><span style="color:var(--shiki-color-text);">      </span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">len</span><span style="color:var(--shiki-token-punctuation);">(track_indices_l)</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">==</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-token-punctuation);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-comment);"># 현재 level의 객체가 없다면 다음 level 시도</span></span>
<span data-line><span style="color:var(--shiki-color-text);">          </span><span style="color:var(--shiki-token-keyword);">continue</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-comment);"># hungrian 알고리즘을 사용하여 현재 level에서 최적의 Matching 시도</span></span>
<span data-line><span style="color:var(--shiki-color-text);">      matches_l</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> _</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> unmatched_detections </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-punctuation);">\</span></span>
<span data-line><span style="color:var(--shiki-color-text);">          </span><span style="color:var(--shiki-token-function);">min_cost_matching</span><span style="color:var(--shiki-token-punctuation);">(</span></span>
<span data-line><span style="color:var(--shiki-token-punctuation);">              distance_metric, max_distance, tracks, detections,</span></span>
<span data-line><span style="color:var(--shiki-token-punctuation);">              track_indices_l, unmatched_detections)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">      matches </span><span style="color:var(--shiki-token-keyword);">+=</span><span style="color:var(--shiki-color-text);"> matches_l</span></span>
<span data-line><span style="color:var(--shiki-color-text);">  unmatched_tracks </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">list</span><span style="color:var(--shiki-token-punctuation);">(</span><span style="color:var(--shiki-token-constant);">set</span><span style="color:var(--shiki-token-punctuation);">(track_indices) </span><span style="color:var(--shiki-token-keyword);">-</span><span style="color:var(--shiki-token-punctuation);"> </span><span style="color:var(--shiki-token-constant);">set</span><span style="color:var(--shiki-token-punctuation);">(k </span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-token-punctuation);"> k, _ </span><span style="color:var(--shiki-token-keyword);">in</span><span style="color:var(--shiki-token-punctuation);"> matches))</span></span></code></pre></div>
<p>해당 알고리즘에서는 Matching cascade를 통하여 모든 Track 객체에 대해 순차적으로 Matching을 시도하여, 매칭된 Track객체를 구합니다. 또한 이러한 Cascade 방법을 사용했음에도 max_threshold를 넘지 못하는 객체의 경우, unmatched_track으로 판정됩니다. 이러한 unmatched_track의 경우, 일반적으로 사용하는 IoU 매칭을 한번에 연산하여 추가적인 가능성을 한번더 줄여주었습니다.</p>
<h2 id="face-assignment">Face Assignment<a aria-hidden="true" tabindex="-1" href="#face-assignment" class="internal"> §</a></h2>
<p>이렇게 매칭된 Track들을 계산한 후에는, 해당 Track 객체들이 가진 Feature 정보를 기반으로 Face DB에 있는 인물의 얼굴 Feature와의 비교를 통해 추가적으로 얼굴을 배정해주게 됩니다. 이 때, ResNet50을 백본으로 학습된 Arc_res50의 Pretrained model을 사용하여 Feature를 추출하였습니다.</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="python" data-theme="default"><code data-language="python" data-theme="default"><span data-line><span style="color:var(--shiki-color-text);">face_db</span><span style="color:var(--shiki-token-punctuation);">[</span><span style="color:var(--shiki-color-text);">person_name</span><span style="color:var(--shiki-token-punctuation);">]</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">dict</span><span style="color:var(--shiki-token-punctuation);">({</span><span style="color:var(--shiki-token-string-expression);">&quot;used&quot;</span><span style="color:var(--shiki-token-punctuation);">: </span><span style="color:var(--shiki-token-constant);">False</span><span style="color:var(--shiki-token-punctuation);">, </span><span style="color:var(--shiki-token-string-expression);">&quot;db&quot;</span><span style="color:var(--shiki-token-punctuation);">: name_db})</span></span></code></pre></div>
<p>보통의 영상에서 특정 프레임의 사람은 1명만 나오기 때문에, 이러한점을 반영하여 구조를 제작하였습니다. “used”의 변수를 조작하여, 탐지를 했을 때, 가장 높은 유사도를 가지는 사람을 배정하고, 이후에 다른 객체가 같은 사람이라고 판정했을 때, 배정하지 않도록 하였습니다.</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="python" data-theme="default"><code data-language="python" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> i </span><span style="color:var(--shiki-token-keyword);">in</span><span style="color:var(--shiki-color-text);"> face_db</span><span style="color:var(--shiki-token-punctuation);">:</span></span>
<span data-line><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> track_idx</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> detection_idx </span><span style="color:var(--shiki-token-keyword);">in</span><span style="color:var(--shiki-color-text);"> matches</span><span style="color:var(--shiki-token-punctuation);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-comment);"># Cascade를 통해 매칭된 Track 객체에 대해</span></span>
<span data-line><span style="color:var(--shiki-color-text);">        self</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-color-text);">tracks</span><span style="color:var(--shiki-token-punctuation);">[</span><span style="color:var(--shiki-color-text);">track_idx</span><span style="color:var(--shiki-token-punctuation);">].</span><span style="color:var(--shiki-token-function);">update</span><span style="color:var(--shiki-token-punctuation);">( </span><span style="color:var(--shiki-token-comment);"># 먼저 Kalman filter를 통해 다음 위치를 예측함</span></span>
<span data-line><span style="color:var(--shiki-token-punctuation);">            self.kf, detections[detection_idx])</span></span>
<span data-line><span style="color:var(--shiki-color-text);">        </span></span>
<span data-line><span style="color:var(--shiki-color-text);">        </span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> self</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-color-text);">tracks</span><span style="color:var(--shiki-token-punctuation);">[</span><span style="color:var(--shiki-color-text);">track_idx</span><span style="color:var(--shiki-token-punctuation);">].</span><span style="color:var(--shiki-token-function);">get_face_name</span><span style="color:var(--shiki-token-punctuation);">()</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">==</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&quot;&quot;</span><span style="color:var(--shiki-token-punctuation);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-comment);"># 현재 얼굴을 배정받지 못한 Track 객체라면 배정</span></span>
<span data-line><span style="color:var(--shiki-color-text);">            self</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-color-text);">tracks</span><span style="color:var(--shiki-token-punctuation);">[</span><span style="color:var(--shiki-color-text);">track_idx</span><span style="color:var(--shiki-token-punctuation);">].</span><span style="color:var(--shiki-token-function);">find_face_name</span><span style="color:var(--shiki-token-punctuation);">(face_db, max_face_threshold)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> track_idx </span><span style="color:var(--shiki-token-keyword);">in</span><span style="color:var(--shiki-color-text);"> unmatched_tracks</span><span style="color:var(--shiki-token-punctuation);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-comment);"># 매칭에 실패한 Track 객체에 대해서는 얼굴 배정을 해제한다.</span></span>
<span data-line><span style="color:var(--shiki-color-text);">        self</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-color-text);">tracks</span><span style="color:var(--shiki-token-punctuation);">[</span><span style="color:var(--shiki-color-text);">track_idx</span><span style="color:var(--shiki-token-punctuation);">].</span><span style="color:var(--shiki-token-function);">mark_missed</span><span style="color:var(--shiki-token-punctuation);">(face_db)</span><span style="color:var(--shiki-color-text);"> </span></span>
<span data-line><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> detection_idx </span><span style="color:var(--shiki-token-keyword);">in</span><span style="color:var(--shiki-color-text);"> unmatched_detections</span><span style="color:var(--shiki-token-punctuation);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-comment);"># Track 객체를 초기화할 때, 한번 얼굴 배정을 시도한다.</span></span>
<span data-line><span style="color:var(--shiki-color-text);">        self</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-function);">_initiate_track</span><span style="color:var(--shiki-token-punctuation);">(detections[detection_idx], face_db, max_face_threshold)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">    self</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-color-text);">tracks </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> [t </span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> t </span><span style="color:var(--shiki-token-keyword);">in</span><span style="color:var(--shiki-color-text);"> self</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-color-text);">tracks </span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">not</span><span style="color:var(--shiki-color-text);"> t</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-function);">is_deleted</span><span style="color:var(--shiki-token-punctuation);">()</span><span style="color:var(--shiki-color-text);">]</span></span></code></pre></div>
<p>이미 배정된 사람에 대해 face_name을 변하지 않도록 하여, id switching이 많이 발생하지 않도록 하였습니다. 다만 이렇게 할 경우, 첫 배정때 사람의 이름을 잘못 배정할 경우, 정확도가 떨어질 수 있다는 단점이 존재합니다. 하지만 Track의 경향성을 유지할 수 있기 때문에 이러한 방법을 채택하였습니다.</p>
<h1 id="result">Result<a aria-hidden="true" tabindex="-1" href="#result" class="internal"> §</a></h1>
<p><a href="https://sites.google.com/site/shunzhang876/eccv16_facetracking/" class="external">Tracking Persons-of-Interests via Adaptive Discriminative Features(ECCV 2016</a>에서 제작한 Music Video Dataset을 기반으로 성능 테스트를 진행했다. 제작한 모델은 두 가지 기능이 가능하다. 기존 사람 사진에 대한 정보가 없을 때, 영상을 기반으로 고유한 id를 추출하여 추적을 하는 방법, 그리고 Face DB가 주어졌을 때 이를 매칭한 Face id를 매칭하는 방법이다. 이 두가지 방법을 적용하여 테스트를 진행했다.</p>
<p><img src="../facetracker13.jpg" alt/></p>
<h2 id="이전-연구-결과">이전 연구 결과<a aria-hidden="true" tabindex="-1" href="#이전-연구-결과" class="internal"> §</a></h2>
<p>|IDF1|IDP|IDR|Rcll|Prcn|FP|FN|IDs|FM|MOTA|MOTP|FAR|
|:—:|:-:|:-:|:—:|:—:|::|::|:-:|::|:—:|:—:|:-:|
|-|-|-|70%|89%|-|-|1152|-|61.1%|65.7%|0.2|</p>
<h2 id="face-db없이-고유-id를-배정한-경우">Face DB없이 고유 ID를 배정한 경우<a aria-hidden="true" tabindex="-1" href="#face-db없이-고유-id를-배정한-경우" class="internal"> §</a></h2>
<p>|IDF1|IDP|IDR|Rcll|Prcn|FP|FN|IDs|FM|MOTA|MOTP|FAR|
|:—:|:-:|:-:|:—:|:—:|::|::|:-:|::|:—:|:—:|:-:|
|6.9%|6.98%|6.97%|80.7%|80.87%|2421|2261|348|589|57.4%|68.7%|0.34|</p>
<h2 id="face-db를-활용하여-인물을-배정을-우선시-한-경우">Face DB를 활용하여 인물을 배정을 우선시 한 경우<a aria-hidden="true" tabindex="-1" href="#face-db를-활용하여-인물을-배정을-우선시-한-경우" class="internal"> §</a></h2>
<p>|IDF1|IDP|IDR|Rcll|Prcn|FP|FN|IDs|FM|MOTA|MOTP|FAR|
|:—:|:-:|:-:|:—:|:—:|::|::|:-:|::|:—:|:—:|:-:|
|52.6%|60.1%|51.95%|79.35%|81.84%|2220|2434|201|603|59.01%|67.2%|0.32|</p>
<p>추적의 성능을 나타내는 MOTA와 MOTP가 약 60%의 성능을 달성하는 모습을 보였다. 또한 Face DB에서, 등장하는 인물에 대한 사전 정보를 통해 ID를 추출해본 결과, ID에 관련된 지표(IDF1, IDP, IDR) 역시 좋은 결과를 만들었다. 또한 ids에서 기존 보다 좋은 성능을 가진다. 하지만 MOTA에 있어서 FN, FP가 많아 좋은 성능을 가지지 못했다.</p>
<h1 id="결론">결론<a aria-hidden="true" tabindex="-1" href="#결론" class="internal"> §</a></h1>
<p>주요 특징은 크게 세 가지로 구분된다.</p>
<ol>
<li>먼저 임의의 사람에 대해 추적이 가능하다. 영상에 몇명의 사람이 존재하는지 모르더라도 등장하는 인물에 대해 고유한 id를 배정할 수 있다.</li>
<li>두번째로 가려진 경우에도 적은 ID switching를 가진 상태로 연속적인 추적이 가능하다. 하나의 Track이 얼굴을 탐지한 상태일 때, 이 얼굴이 가려진 경우, 30frame 내에는 해당 Track 객체가 메모리에 존재한 상태로 만들어, 만약 30초 내에 재등장한다면 해당 Track id를 배정함으로써 문제를 어느정도 해결했다.</li>
<li>마지막으로 이미 사람에 대한 정보를 가지고 있다면, 이 정보를 바탕으로 해당 사람을 찾아낼 수 있다. 만약 인물 사진을 가지고 있을 경우, 이 정보를 바탕으로 Feature를 생산하고, 가장 유사한 사람과 매칭할 수 있다.</li>
</ol>
<h1 id="environment-setting">Environment Setting<a aria-hidden="true" tabindex="-1" href="#environment-setting" class="internal"> §</a></h1>
<ul>
<li>python 3.7</li>
<li>tensorflow 2.4.1</li>
<li>cuda 11.2</li>
<li>cudnn 8.0.5</li>
<li>GPU : RTX 3080</li>
<li>CPU : AMD Ryzen 7 5800X 8-Core Processor</li>
</ul>
<p>추가적으로 사용한 라이브러리는 아래 파일을 통해 설치할 수 있습니다.</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="bash" data-theme="default"><code data-language="bash" data-theme="default"><span data-line><span style="color:var(--shiki-token-function);">$</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string);">pip</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string);">install</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string);">requirement.txt</span></span></code></pre></div>
<h2 id="if-you-want-evaluation">If you want Evaluation<a aria-hidden="true" tabindex="-1" href="#if-you-want-evaluation" class="internal"> §</a></h2>
<p><a href="https://drive.google.com/file/d/1_vRwE25Q5Cg7ViaCDr-C9O6ikRZTB0uh/view?usp=sharing" class="external">여기</a>에서 가중치 파일을 받아 <code>./</code> 최상위 경로에 압축을 풀어주세요.</p>
<h3 id="download-music-video-dataset">Download Music Video Dataset<a aria-hidden="true" tabindex="-1" href="#download-music-video-dataset" class="internal"> §</a></h3>
<p><a href="https://drive.google.com/file/d/1v_ZNWEjQEMH87v87Ape7asNbC_fQd2XX/view?usp=sharing" class="external">여기</a>에서 비디오, ground truth 파일을 받아서 최상위 경로에 압축을 풀어주세요. 해당 데이터셋은  <a href="https://sites.google.com/site/shunzhang876/eccv16_facetracking/" class="external">Tracking Persons-of-Interests via Adaptive Discriminative Features(ECCV 2016)</a>에서 가져왔습니다.</p>
<h3 id="convert-gt-xml-file-to-txt">Convert GT xml file to txt<a aria-hidden="true" tabindex="-1" href="#convert-gt-xml-file-to-txt" class="internal"> §</a></h3>
<p>ground truth 파일을 tracking evaluation을 위해 변환해주는 과정을 거칩니다.</p>
<pre><code>python xml2txt.py \
    --gt_path ./resources/gt/T-ara_gt.xml \
    --gt_file_path ./resources/gt/T-ara_gt.txt

python xml2txt.py \
    --gt_path ./resources/gt/GirlsAloud_gt.xml \
    --gt_file_path ./resources/gt/GirlsAloud_gt.txt

python xml2txt.py \
    --gt_path ./resources/gt/Darling_gt.xml \
    --gt_file_path ./resources/gt/Darling_gt.txt

python xml2txt.py \
    --gt_path ./resources/gt/Westlife_gt.xml \
    --gt_file_path ./resources/gt/Westlife_gt.txt

python xml2txt.py \
    --gt_path ./resources/gt/BrunoMars_gt.xml \
    --gt_file_path ./resources/gt/BrunoMars_gt.txt

python xml2txt.py \
    --gt_path ./resources/gt/HelloBubble_gt.xml \
    --gt_file_path ./resources/gt/HelloBubble_gt.txt

python xml2txt.py \
    --gt_path ./resources/gt/Apink_gt.xml \
    --gt_file_path ./resources/gt/Apink_gt.txt
</code></pre>
<h3 id="extract-reference-image">Extract Reference Image<a aria-hidden="true" tabindex="-1" href="#extract-reference-image" class="internal"> §</a></h3>
<p>다음으로 해당 데이터셋에서 gt에 맞는 얼굴을 추출하여 face db에 반영하기 위해 아래의 코드를 동작시킵니다.</p>
<pre><code>python generate_face.py \
    --gt_file_path ./resources/gt/T-ara_gt.txt \
    --video_file_path ./resources/video/in/T-ara.mov \
    --face_data_path ./resources/database/T-ara

python generate_face.py \
    --gt_file_path ./resources/gt/GirlsAloud_gt.txt \
    --video_file_path ./resources/video/in/GirlsAloud.mp4 \
    --face_data_path ./resources/database/GirlsAloud

python generate_face.py \
    --gt_file_path ./resources/gt/Darling_gt.txt \
    --video_file_path ./resources/video/in/Darling.mp4 \
    --face_data_path ./resources/database/Darling

python generate_face.py \
    --gt_file_path ./resources/gt/Westlife_gt.txt \
    --video_file_path ./resources/video/in/Westlife.mp4 \
    --face_data_path ./resources/database/Westlife

python generate_face.py \
    --gt_file_path ./resources/gt/BrunoMars_gt.txt \
    --video_file_path ./resources/video/in/BrunoMars.mp4 \
    --face_data_path ./resources/database/BrunoMars

python generate_face.py \
    --gt_file_path ./resources/gt/HelloBubble_gt.txt \
    --video_file_path ./resources/video/in/HelloBubble.mp4 \
    --face_data_path ./resources/database/HelloBubble

python generate_face.py \
    --gt_file_path ./resources/gt/Apink_gt.txt \
    --video_file_path ./resources/video/in/Apink.mp4 \
    --face_data_path ./resources/database/Apink
</code></pre>
<h3 id="lets-tracking">Let’s Tracking<a aria-hidden="true" tabindex="-1" href="#lets-tracking" class="internal"> §</a></h3>
<p>이제 모든 준비가 완료되었습니다. 비디오에 대해서 tracking을 진행합니다.</p>
<pre><code>python object_tracker.py \
    --video ./resources/video/in/T-ara.mov \
    --database ./resources/database/T-ara \
    --output ./resources/video/out/T-ara.mp4 \
    --eval ./resources/gt/T-ara_pred.txt

python object_tracker.py \
    --video ./resources/video/in/BrunoMars.mp4 \
    --database ./resources/database/BrunoMars \
    --output ./resources/video/out/BrunoMars.mp4 \
    --eval ./resources/gt/BrunoMars_pred.txt

python object_tracker.py \
    --video ./resources/video/in/Darling.mp4 \
    --database ./resources/database/Darling \
    --output ./resources/video/out/Darling.mp4 \
    --eval ./resources/gt/Darling_pred.txt

python object_tracker.py \
    --video ./resources/video/in/GirlsAloud.mp4 \
    --database ./resources/database/GirlsAloud \
    --output ./resources/video/out/GirlsAloud.mp4 \
    --eval ./resources/gt/GirlsAloud_pred.txt

python object_tracker.py \
    --video ./resources/video/in/HelloBubble.mp4 \
    --database ./resources/database/HelloBubble \
    --output ./resources/video/out/HelloBubble.mp4 \
    --eval ./resources/gt/HelloBubble_pred.txt

python object_tracker.py \
    --video ./resources/video/in/Westlife.mp4 \
    --database ./resources/database/Westlife \
    --output ./resources/video/out/Westlife.mp4 \
    --eval ./resources/gt/Westlife_pred.txt

python object_tracker.py \
    --video ./resources/video/in/Apink.mp4 \
    --database ./resources/database/Apink \
    --output ./resources/video/out/Apink.mp4 \
    --eval ./resources/gt/Apink_pred.txt
</code></pre>
<h3 id="evaluation">Evaluation<a aria-hidden="true" tabindex="-1" href="#evaluation" class="internal"> §</a></h3>
<p>이제 생성된 tracking file을 가지고 평가를 진행합니다.</p>
<pre><code>python evaluation.py \
    --gt_file_path ./resources/gt/T-ara_gt.txt \
    --pred_file_path ./resources/gt/T-ara_pred.txt

python evaluation.py \
    --gt_file_path ./resources/gt/GirlsAloud_gt.txt \
    --pred_file_path ./resources/gt/GirlsAloud_pred.txt

python evaluation.py \
    --gt_file_path ./resources/gt/Darling_gt.txt \
    --pred_file_path ./resources/gt/Darling_pred.txt

python evaluation.py \
    --gt_file_path ./resources/gt/Westlife_gt.txt \
    --pred_file_path ./resources/gt/Westlife_pred.txt

python evaluation.py \
    --gt_file_path ./resources/gt/BrunoMars_gt.txt \
    --pred_file_path ./resources/gt/BrunoMars_pred.txt

python evaluation.py \
    --gt_file_path ./resources/gt/HelloBubble_gt.txt \
    --pred_file_path ./resources/gt/HelloBubble_pred.txt

python evaluation.py \
    --gt_file_path ./resources/gt/Apink_gt.txt \
    --pred_file_path ./resources/gt/Apink_pred.txt
</code></pre>
<h1 id="reference">Reference<a aria-hidden="true" tabindex="-1" href="#reference" class="internal"> §</a></h1>
<ul>
<li><a href="https://github.com/serengil/deepface" class="external">deepface</a></li>
<li><a href="https://github.com/nwojke/deep_sort" class="external">Deep SORT</a></li>
<li><a href="https://github.com/zzh8829/yolov3-tf2" class="external">YoloV3 Implemented in TensorFlow 2.0</a></li>
<li><a href="https://github.com/sthanhng/yoloface" class="external">YOLOFace</a></li>
<li><a href="https://sites.google.com/site/shunzhang876/eccv16_facetracking/" class="external">Tracking Persons-of-Interests via Adaptive Discriminative Features(ECCV 2016)</a></li>
<li><a href="https://arxiv.org/abs/1703.07402" class="external">Simple Online and Realtime Tracking with a Deep Association Metric(IEEE 2016)</a></li>
<li><a href="https://arxiv.org/abs/1801.07698" class="external">ArcFace: Additive Angular Margin Loss for Deep Face Recognition</a></li>
<li><a href="https://github.com/wansook0316/MultiFaceTrackerUsingDeepsort" class="external">MultiFaceTrackerUsingDeepsort</a></li>
</ul></article></div><div class="right sidebar"><div class="graph "><h3>Graph View</h3><div class="graph-outer"><div id="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[]}"></div><svg version="1.1" id="global-graph-icon" xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xmlSpace="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
	s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
	c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
	C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
	c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
	v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
	s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
	C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
	S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
	s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
	s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></div><div id="global-graph-outer"><div id="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[]}"></div></div></div><div class="toc desktop-only"><button type="button" id="toc"><h3>Table of Contents</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="toc-content"><ul class="overflow"><li class="depth-0"><a href="#description" data-for="description">Description</a></li><li class="depth-0"><a href="#introduction" data-for="introduction">Introduction</a></li><li class="depth-0"><a href="#동작-영상" data-for="동작-영상">동작 영상</a></li><li class="depth-0"><a href="#프로젝트-시작-배경" data-for="프로젝트-시작-배경">프로젝트 시작 배경</a></li><li class="depth-0"><a href="#주요-내용" data-for="주요-내용">주요 내용</a></li><li class="depth-0"><a href="#변경-사항" data-for="변경-사항">변경 사항</a></li><li class="depth-0"><a href="#matching-algorithm" data-for="matching-algorithm">Matching Algorithm</a></li><li class="depth-1"><a href="#track" data-for="track">Track</a></li><li class="depth-1"><a href="#matching-cascade" data-for="matching-cascade">Matching Cascade</a></li><li class="depth-1"><a href="#face-assignment" data-for="face-assignment">Face Assignment</a></li><li class="depth-0"><a href="#result" data-for="result">Result</a></li><li class="depth-1"><a href="#이전-연구-결과" data-for="이전-연구-결과">이전 연구 결과</a></li><li class="depth-1"><a href="#face-db없이-고유-id를-배정한-경우" data-for="face-db없이-고유-id를-배정한-경우">Face DB없이 고유 ID를 배정한 경우</a></li><li class="depth-1"><a href="#face-db를-활용하여-인물을-배정을-우선시-한-경우" data-for="face-db를-활용하여-인물을-배정을-우선시-한-경우">Face DB를 활용하여 인물을 배정을 우선시 한 경우</a></li><li class="depth-0"><a href="#결론" data-for="결론">결론</a></li><li class="depth-0"><a href="#environment-setting" data-for="environment-setting">Environment Setting</a></li><li class="depth-1"><a href="#if-you-want-evaluation" data-for="if-you-want-evaluation">If you want Evaluation</a></li><li class="depth-2"><a href="#download-music-video-dataset" data-for="download-music-video-dataset">Download Music Video Dataset</a></li><li class="depth-2"><a href="#convert-gt-xml-file-to-txt" data-for="convert-gt-xml-file-to-txt">Convert GT xml file to txt</a></li><li class="depth-2"><a href="#extract-reference-image" data-for="extract-reference-image">Extract Reference Image</a></li><li class="depth-2"><a href="#lets-tracking" data-for="lets-tracking">Let's Tracking</a></li><li class="depth-2"><a href="#evaluation" data-for="evaluation">Evaluation</a></li><li class="depth-0"><a href="#reference" data-for="reference">Reference</a></li></ul></div></div><div class="backlinks "><h3>Backlinks</h3><ul class="overflow"><li>No backlinks found</li></ul></div></div></div><footer class><hr/><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.1.0</a>, © 2023</p><ul><li><a href="https://github.com/wansook0316">GitHub</a></li><li><a href="https://twitter.com/WansookChoi">Twitter</a></li><li><a href="https://www.youtube.com/@wansook-world">Youtube</a></li></ul></footer></div></body><script type="application/javascript">// quartz/components/scripts/quartz/components/scripts/callout.inline.ts
function toggleCallout() {
  const outerBlock = this.parentElement;
  outerBlock.classList.toggle(`is-collapsed`);
  const collapsed = outerBlock.classList.contains(`is-collapsed`);
  const height = collapsed ? this.scrollHeight : outerBlock.scrollHeight;
  outerBlock.style.maxHeight = height + `px`;
  let current = outerBlock;
  let parent = outerBlock.parentElement;
  while (parent) {
    if (!parent.classList.contains(`callout`)) {
      return;
    }
    const collapsed2 = parent.classList.contains(`is-collapsed`);
    const height2 = collapsed2 ? parent.scrollHeight : parent.scrollHeight + current.scrollHeight;
    parent.style.maxHeight = height2 + `px`;
    current = parent;
    parent = parent.parentElement;
  }
}
function setupCallout() {
  const collapsible = document.getElementsByClassName(
    `callout is-collapsible`
  );
  for (const div of collapsible) {
    const title = div.firstElementChild;
    if (title) {
      title.removeEventListener(`click`, toggleCallout);
      title.addEventListener(`click`, toggleCallout);
      const collapsed = div.classList.contains(`is-collapsed`);
      const height = collapsed ? title.scrollHeight : div.scrollHeight;
      div.style.maxHeight = height + `px`;
    }
  }
}
document.addEventListener(`nav`, setupCallout);
window.addEventListener(`resize`, setupCallout);
</script><script type="module">
          import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
          const darkMode = document.documentElement.getAttribute('saved-theme') === 'dark'
          mermaid.initialize({
            startOnLoad: false,
            securityLevel: 'loose',
            theme: darkMode ? 'dark' : 'default'
          });
          document.addEventListener('nav', async () => {
            await mermaid.run({
              querySelector: '.mermaid'
            })
          });
          </script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script src="https://www.googletagmanager.com/gtag/js?id=G-4VK6YGBT5L" type="application/javascript"></script><script type="application/javascript">
          const socket = new WebSocket('ws://localhost:3001')
          socket.addEventListener('message', () => document.location.reload())
        </script><script src="../postscript.js" type="module"></script></html>